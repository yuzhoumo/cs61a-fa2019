<!DOCTYPE html>
<html>
<head>
    <title>The Git Version-Control System | CS 61B Spring 2020</title>
    <meta charset="UTF-8">

    
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,600" rel="stylesheet" type="text/css">
    <link href="../assets/css/common.css" rel="stylesheet" type="text/css">
    <link href="../assets/css/lab.css" rel="stylesheet" type="text/css">
    <link href="../assets/css/highlight/styles/tomorrow.css" rel="stylesheet" type="text/css">
    
    <script src="../assets/js/jquery-1.12.4.min.js" type="text/javascript"></script>
    <script src="../assets/css/highlight/highlight.pack.js" type="text/javascript"></script> 
    <script src="../assets/js/sidebar.js" type="text/javascript"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script type="text/x-mathjax-config">
MathJax.Hub.Config({

    tex2jax: {inlineMath: [["$", "$"]]}
})
   
</script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS_HTML-full"></script>
</head>
<body>
    <div class="navbar-top"><div id="navitems">
        <a href="../index.html"><div class="navitem">Main</div></a>
        <a href="../about.html"><div class="navitem">Course Info</div></a>
        <a href="../staff.html"><div class="navitem">Staff</div></a>
        <!--<a href="../assign.html"><div class="navitem">Assignments</div></a>-->
        <a href="../../../../auth.berkeley.edu/cas/login%3Fservice=https:%252F%252Finst.EECS.Berkeley.EDU%252F~cs61b%252Fsp20%252Fscreencasts.html" target="_blank"><div class="navitem">Screencasts</div></a>
        <a href="../../../../auth.berkeley.edu/cas/login%3Fservice=https:%252F%252Finst.EECS.Berkeley.EDU%252F~cs61b%252Fsp20%252Fcgi-bin%252Fcalnet-auth-scores.cgi.html" target="_blank"><div class="navitem">Scores</div></a>
        <a href="../resources.html"><div class="navitem">Resources</div></a>
        <a href="https://piazza.com/class/jkx2gta66436jq"><div class="navitem">Piazza</div></a>
    </div></div>
    <div id="sidebar">
        <div id="sidebar-content">
            <h3>Navigation</h3>
            <ul>
  <li><a href="using-git.html#navigation">Navigation</a></li>
  <li><a href="using-git.html#a-intro-to-version-control-systems">A. Intro to Version Control Systems</a></li>
  <ul>
    <li><a href="using-git.html#intro-to-git">Intro to Git</a></li>
  </ul>
  <li><a href="using-git.html#b-local-repositories">B. Local Repositories</a></li>
  <ul>
    <li><a href="using-git.html#initializing-local-repositories">Initializing Local Repositories</a></li>
    <li><a href="using-git.html#tracked-vs-untracked-files">Tracked vs. Untracked Files</a></li>
    <li><a href="using-git.html#staging-amp-committing">Staging &amp; Committing</a></li>
    <li><a href="using-git.html#undoing-changes">Undoing Changes</a></li>
  </ul>
  <li><a href="using-git.html#c-git-branching">C. Git Branching</a></li>
  <ul>
    <li><a href="using-git.html#reasons-for-branching">Reasons for Branching</a></li>
    <li><a href="using-git.html#a-sample-scenario">A Sample Scenario</a></li>
    <li><a href="using-git.html#creating-deleting-amp-switching-branches">Creating, Deleting, &amp; Switching Branches</a></li>
    <li><a href="using-git.html#merging">Merging</a></li>
    <li><a href="using-git.html#merge-conflicts">Merge Conflicts</a></li>
    <li><a href="using-git.html#resolving-merge-conflicts">Resolving Merge Conflicts</a></li>
  </ul>
  <li><a href="using-git.html#d-example-local-repository">D. Example: Local Repository</a></li>
  <li><a href="using-git.html#e-other-git-features">E. Other Git Features</a></li>
  <li><a href="using-git.html#f-remote-repositories">F. Remote Repositories</a></li>
  <ul>
    <li><a href="using-git.html#private-vs-public-repos">Private vs. Public Repos</a></li>
    <li><a href="using-git.html#adding-remotes">Adding Remotes</a></li>
    <li><a href="using-git.html#renaming-deleting-amp-listing-remotes">Renaming, Deleting, &amp; Listing Remotes</a></li>
    <li><a href="using-git.html#cloning-a-remote">Cloning a Remote</a></li>
    <li><a href="using-git.html#pushing-commits">Pushing Commits</a></li>
    <li><a href="using-git.html#fetching-amp-pulling-commits">Fetching &amp; Pulling Commits</a></li>
  </ul>
  <li><a href="using-git.html#g-example-remote-repository">G. Example: Remote Repository</a></li>
  <li><a href="using-git.html#h-conclusion">H. Conclusion</a></li>
  <ul>
    <li><a href="using-git.html#more-with-remotes">More with Remotes</a></li>
    <li><a href="using-git.html#extra-reading">Extra Reading</a></li>
  </ul>
  <li><a href="using-git.html#i-advanced-git-features">I. Advanced Git Features</a></li>
  <ul>
    <li><a href="using-git.html#rebasing">Rebasing</a></li>
    <li><a href="using-git.html#squashing-commits">Squashing Commits</a></li>
  </ul>
</ul>
        </div>
    </div>
    <div id="content-container"><main id="content">
        <header class="title">The Git Version-Control System</header>
        <div class="due-date">Author: Sarah Kim</div>
<h2 id="navigation">Navigation</h2>


<ul>
  <li><a href="using-git.html#a-intro-to-version-control-systems">Intro to Version Control Systems</a></li>
  <li><a href="using-git.html#b-local-repositories">Local Repositories</a></li>
  <li><a href="using-git.html#c-git-branching">Git Branching</a></li>
  <li><a href="using-git.html#d-example-local-repository">Example: Local Repository</a></li>
  <li><a href="using-git.html#e-other-git-features">Other Git Features</a></li>
  <li><a href="using-git.html#f-remote-repositories">Remote Repositories</a></li>
  <li><a href="using-git.html#g-example-remote-repository">Example: Remote Repository</a></li>
  <li><a href="using-git.html#h-conclusion">Conclusion</a></li>
  <li><a href="using-git.html#i-advanced-git-features">Advanced Git Features</a></li>
</ul>


<h2 id="a-intro-to-version-control-systems">A. Intro to Version Control Systems</h2>


<p><em>Version control systems</em> are tools to keep track of changes to files over time.
Version control allows you to view or revert back to previous iterations of
files. Some aspects of version control are actually built into commonly used
applications. Think of the <code>undo</code> command or how you can see the revision history
of a Google document.</p>

<p>In the context of coding, version control systems can track the history of code
revisions, from the current state of the code all the way till it was first
tracked. This allows users to reference older versions of their work and share
code changes with other people, like fellow developers.</p>

<p>Version control has become a backbone of software development and collaboration
in industry. In this class, we will be using <a href="http://git-scm.com/">Git</a>. Git has
excellent <a href="http://git-scm.com/documentation">documentation</a> so we highly
encourage those who are interested to read more about what will be summarized in
the rest of this guide.</p>


<h4 id="intro-to-git">Intro to Git</h4>


<p>Git is a <a href="http://en.wikipedia.org/wiki/Distributed_revision_control">distributed version control system</a> (as opposed to a centralized version control system) that has become the norm in the open-source software community.  A distributed version control system means that every developer's working copy of the code is a complete repository that can stand apart from a shared, centralized server. This concept leads to our ability to use Git locally on our own computers. Developers within a team (or in our case, a
class) each work on separate repositories, and may from time to time synchronize
all or part of the contents of their repositories with one or more other
repositories.</p>

<p>Git terminology uses the term <em>repository</em> to mean an organized collection of
versions (called <em>commits</em>) of a directory structure, a checked-out copy of the
one of those commits (a <em>working directory</em>) possibly in the process of
modification, and a staging area (called the <em>index</em>) used to track what goes
into the next commit.  Usually, the set of commits and the index are stored in a
directory named <code>.git</code> at the  top level of the working directory.  The term
<em>bare repository</em> refers to a directory containing only the set of commits (what
would be a <code>.git</code> directory in an ordinary repository, but with no index).
Typically, we use bare repositories as central copies of versions that will be
shared by several repositories.</p>


<h2 id="b-local-repositories">B. Local Repositories</h2>



<h4 id="initializing-local-repositories">Initializing Local Repositories</h4>


<p>Let's first start off with the <em>local repository</em>. A repository stores files as
well as the history of changes to those files. In order to begin, you must
initialize a Git repository by typing the following command into your terminal
<em>while in the directory you wish to make it a local repository</em>.</p>

<pre><code>git init</code></pre>

<p>When you initialize a Git repository, Git actually creates a <code>.git</code> subdirectory
that cannot be seen as a default for most operating systems. But it's there.
The UNIX command <code>ls &#x2d;la</code> will list all directories, including your <code>.git</code>
directory, so you can use this command to check that your repo has been
initialized properly.</p>


<h4 id="tracked-vs-untracked-files">Tracked vs. Untracked Files</h4>


<p>Git repos start off not tracking any files. In order to save the revision
history of a file, you need to track it. The Git documentation has an excellent
section on <a href="http://git-scm.com/book/en/Git-Basics-Recording-Changes-to-the-Repository">recording changes</a>.
An image from that section is placed here for your convenience:</p>

<p><img src="using-git/file-status.png" alt="File Status Lifecyle"></p>

<p>As this figure shows, files fall into two main categories:</p>

<ol>
  <li><em>untracked</em> files: These files have either never been tracked or were removed
  from tracking. Git is not maintaining history for these files.</li>
  <li><p><em>tracked</em> files: These files have been added to the Git repository and can be
  in various stages of modification: unmodified, modified, or staged.</p>

  <ol>
    <li>An <em>unmodified</em> file is one that has had no new changes since the last
    version of the files was added to the Git repo.</li>
    <li>A <em>modified</em> file is one that is different from the last one Git has
    saved.</li>
    <li>A <em>staged</em> file is one that a user has designated as part of a future
    commit.</li>
  </ol></li>
</ol>

<p>The following Git command allows you see the status of each file:</p>

<pre><code>git status</code></pre>

<p>The <code>git status</code> command is extremely useful for determining the exact status of
each file in your repository. If you are confused about what has changed and
what needs to be committed, it can remind you of what to do next.</p>


<h4 id="staging-amp-committing">Staging &amp; Committing</h4>


<p>A <em>commit</em> is a specific snapshot of your working directory at a particular time.
Users must specify what exactly composes the snapshot by <em>staging</em> files.</p>

<p>This command lets you stage a file (called <code>FILE</code>). Before staging, a file can
be untracked or tracked &amp; modified. After staging and committing it, it will be
a tracked file.</p>

<pre><code>git add FILE</code></pre>

<p>Once you have staged all the files you would like to include in your snapshot,
you can commit them as one block with a message.</p>

<pre><code>git commit &#x2d;m MESSAGE</code></pre>

<p>Your message should be descriptive and explain what changes your commit makes to
your code. You may want to quickly describe bug fixes, implemented classes, etc.
so that your messages are helpful later when looking through your commit log.</p>

<p>In order to see previous commits, you can use the log command:</p>

<pre><code>git log</code></pre>

<p>The Git reference guide has a helpful section on <a href="http://git-scm.com/book/en/Git-Basics-Viewing-the-Commit-History">viewing commit history</a>
and filtering log results when searching for particular commits.</p>

<p>As a side note on development workflow, it is a good idea to commit your code
as often as possible. Whenever you make significant (or even minor) changes to
your code, make a commit. If you are trying something out that you might not
stick with, commit it (perhaps to a different branch, which will be explained
below).</p>

<p><strong>Rule of Thumb</strong>: If you commit, you can always revert your code or change it.
However, if you don't commit, you won't be able to get old versions back. So
commit often!</p>


<h4 id="undoing-changes">Undoing Changes</h4>


<p>The Git reference has a great section on <a href="http://git-scm.com/book/en/Git-Basics-Undoing-Things">undoing things</a>.
Please note that while Git revolves around the concept of history, it is
possible to lose your work if you revert with some of these undo commands. Thus,
be careful and read about the effects of your changes before undoing your work.</p>

<ul>
  <li><p>Unstage a file that you haven't yet committed:</p>

<pre><code>git reset HEAD [file]</code></pre>

  <p>This will take the file's status back to modified, leaving changes intact.
  Don't worry about this command undoing any work.</p>

  <p>Why might we need to use this command? Let's say you accidentally started
  tracking a file that you didn't want to track. (.class files, for instance.)
  Or you were doing some work and thought you would commit but no longer want
  to commit the file.</p></li>
  <li><p>Amend latest commit (changing commit message or add forgotten files):</p>

<pre><code>git add [forgotten&#x2d;file]
git commit &#x2d;&#x2d;amend</code></pre>

  <p>Please note that this new amended commit will replace the previous commit.</p></li>
  <li><p>Revert a file to its state at the time of the most recent commit:</p>

<pre><code>git checkout &#x2d;&#x2d; [file]</code></pre>

  <p>This next command is useful if you would like to actually undo your work.
  Let's say that you have modified a certain <code>file</code> since committing previously,
  but you would like your file back to how it was before your modifications.</p>

  <p><strong>Note</strong>: This command is potentially quite dangerous because any changes you
  made to the file since your last commit will be removed. Use this with
  caution!</p></li>
</ul>


<h2 id="c-git-branching">C. Git Branching</h2>


<p><img src="using-git/graph1.svg" alt="Simple Git"></p>

<p>Every command that we've covered so far was working with the default branch.
This branch is conventionally called the <code>master</code> branch. However, there are
cases when you may want to create branches in your code.</p>

<p>Branches allow you to keep track of multiple different versions of your work
simultaneously. One way to think of branches are as alternate dimensions.
Perhaps one branch is the result of choosing to use a linked list while another
branch is the result of choosing to use an array.</p>

<p><img src="using-git/graph2.svg" alt="Git with feature branch"></p>


<h4 id="reasons-for-branching">Reasons for Branching</h4>


<p>Here are some cases when it may be a good idea to branch.</p>

<ul>
  <li>You may want to make a dramatic change to your existing code (called
  refactoring) but it will break other parts of your project. But you want to be
  able to simultaneously work on other parts or you have partners, and you don't
  want to break the code for them.</li>
  <li>You want to start working on a new part of the project, but you aren't sure
  yet if your changes will work and make it to the final product.</li>
  <li>You are working with partners and don't want to mix up your current work with
  theirs, even if you want to bring your work together later in the future.</li>
</ul>

<p>Creating a branch will let you keep track of multiple different versions of your
code, and you can easily switch between versions and merge branches together
once you've finished working on a section and want it to join the rest of your
code.</p>


<h4 id="a-sample-scenario">A Sample Scenario</h4>


<p>For example, let's say that you've finished half of a project so far. There is
a difficult part still left to do, and you're not sure how to do it. Perhaps
you have three different ideas for how to do it, and you're not sure which
will work. At this point, it might be a good idea to create a branch off of
<code>master</code> and try out your first idea.</p>

<ul>
  <li>If your code works, you can merge the branch back to your main code (on the
  <code>master</code> branch) and submit your project.</li>
  <li>If your code doesn't work, don't worry about reverting your code and having to
  manipulate Git history. You can simply switch back to <code>master</code>, which won't have
  any of your changes, create another branch, and try out your second idea.</li>
</ul>

<p>This can continue till you figure out the best way to write you code, and you
only need to merge the branches that work back into <code>master</code> in the end.</p>

<p>The Git reference has a section on <a href="http://git-scm.com/book/en/Git-Branching-Basic-Branching-and-Merging">branching and merging</a>
with some figures of how branches are represented in Git's underlying data
structure. It turns out that Git keeps track of commit history as a graph with
branch pointers and commits as nodes within the graph. (Hence the tree-related
terminology.)</p>


<h4 id="creating-deleting-amp-switching-branches">Creating, Deleting, &amp; Switching Branches</h4>


<p>A special branch pointer called the <code>HEAD</code> references the branch you currently
have as your working directory. Branching instructions modify branches and
change what your <code>HEAD</code> points to so that you see a different version of your
files.</p>

<ul>
  <li><p>The following command will create a branch off of your current branch.</p>

<pre><code>git branch [new&#x2d;branch&#x2d;name]</code></pre></li>
  <li><p>This command lets you switch from one branch to another by changing which branch
  your <code>HEAD</code> pointer references.</p>

<pre><code>git checkout [destination&#x2d;branch]</code></pre>

  <p>By default, your initial branch is called <code>master</code>. It is advised that you
  stick with this convention. Every other branch, however, can be named whatever
  you'd like. It's generally a good idea to call your branch something
  descriptive like <code>fixing&#x2d;ai&#x2d;heuristics</code> so that you can remember what commits
  it contains.</p></li>
  <li><p>You can combine the previous two commands on creating a new branch and then
  checking it out with this single command:</p>

<pre><code>git checkout &#x2d;b [new&#x2d;branch&#x2d;name]</code></pre></li>
  <li><p>You can delete branches with the following command:</p>

<pre><code>git branch &#x2d;d [branch&#x2d;to&#x2d;delete]</code></pre></li>
  <li><p>You can easily figure out which branch you are on with this command:</p>

<pre><code>git branch &#x2d;v</code></pre>

  <p>More particular, the <code>&#x2d;v</code> flag will list the last commit on each branch as well.</p></li>
</ul>


<h4 id="merging">Merging</h4>


<p>There are often times when you'd like to merge one branch into another. For
example, let's say that you like the work you've done on <code>fixing&#x2d;ai&#x2d;heuristics</code>.
Your AI is now super-boss, and you'd like your <code>master</code> branch to see the
commits you've made on <code>fixing&#x2d;ai&#x2d;heuristics</code> and delete the <code>fixing&#x2d;ai&#x2d;heuristics</code>
branch.</p>

<p><img src="using-git/graph3.svg" alt="Git with fixing-ai-heuristics branch"></p>

<p>In this case, you should checkout the <code>master</code> branch and merge
<code>fixing&#x2d;ai&#x2d;heuristics</code> into <code>master</code>.</p>

<pre><code>git checkout master
git merge fixing&#x2d;ai&#x2d;heuristics</code></pre>

<p>This <code>merge</code> command will create a new commit that joins the two branches
together and change each branch's pointer to reference this new commit. While
most commits have only one parent commit, this new merge commit has two parent
commits. The commit on the <code>master</code> branch is called its <em>first parent</em> and
the commit on the <code>fixing&#x2d;ai&#x2d;heuristics</code> branch is called its <em>second parent</em>.</p>

<p><img src="using-git/graph4.svg" alt="Git with fixing-ai-heuristics branch merged into master"></p>


<h4 id="merge-conflicts">Merge Conflicts</h4>


<p>It may happen that two branches you are trying to merge have conflicting
information. This can occur if commits on the two branches changed the same
files. Git is sophisticated enough to resolve many changes, even when they occur
in the same file (though distinct places).</p>

<p>However, there are times that conflicts cannot be resolved by Git because
changes impact the same methods/lines of code. In these cases, it will present
both changes from the different branches to you as a <em>merge conflict</em>.</p>


<h4 id="resolving-merge-conflicts">Resolving Merge Conflicts</h4>


<p>Git will tell you which files have conflicts. You need to open the files that
have conflicts and resolve them manually. After doing this, you must commit to
complete the merge of the two branches.</p>

<p>The files with conflicts will contain segments that look something like this:</p>

<pre><code>&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD
for (int i = 0; i &lt; results.length; i++) {
    println(results[i]);
    println(&quot;FIX ME!&quot;);
}
=======
int[] final = int[results.length];
for (int i = 0; i &lt; results.length &#x2d; 1; i++) {
    final[i] = results[i] + 1;
    println(final[i]);
}
&gt;&gt;&gt;&gt;&gt;&gt;&gt; fixing&#x2d;ai&#x2d;heuristics</code></pre>

<p>Basically, you'll see two segments with similar pieces of code:</p>

<ol>
  <li>The top code snippet is from the branch you originally had checked out when
  you ran the <code>merge</code> command. It's called <code>HEAD</code> because the <code>HEAD</code> pointer was
  referencing this branch at the time of the <code>merge</code>. Continuing our example
  above, this code would be from the <code>master</code> branch.</li>
  <li>The bottom code snippet is from the branch you were merging into your checked
  out branch. This is why it shows that the code is from <code>fixing&#x2d;ai&#x2d;heuristics</code>.</li>
</ol>

<p>Basically, you'll need to go through all marked sections and pick which snippet
of code you'd like to keep.</p>

<p>In the previous example, I like the bottom piece of code better because I just
fixed the AI while the top piece still prints "FIX ME!" Thus, I will delete
the top segment as well as the extraneous lines to get this:</p>

<pre><code>int[] final = int[results.length];
for (int i = 0; i &lt; results.length &#x2d; 1; i++) {
    final[i] = results[i] + 1;
    println(final[i]);
}</code></pre>

<p><em>Random Note: I have no idea how this code supposedly fixes the AI heuristics.
Don't use it for your project! It is useless, I tell you. Useless!</em></p>

<p>Doing this for all segments demarcated by conflict-resolution markers resolves
your conflict. After doing this for all conflicting files, you can commit.
This will complete your merge.</p>


<h2 id="d-example-local-repository">D. Example: Local Repository</h2>


<p>You're now ready to start using Git! Follow along as I work through a simple
example. This example may seem a bit contrived, but it will hopefully help you
become more familiar with a Git workflow.</p>

<p>Also, if you'd like more of a challenge, read the direction for each step and
guess what the command should be before looking at my Terminal window.</p>

<p><em>And yes, my lovely computer is named <code>wellington</code>. Quite the classy name,
wouldn't you say?</em></p>

<ol>
  <li><p>Initialize a Git repository called <code>learning&#x2d;git</code>.</p>

  <p><img src="using-git/Exercise1.1.png" alt="Exercise 1.1"></p></li>
  <li><p>Add a file called <code>HELLO.txt</code>.</p>

  <p><img src="using-git/Exercise1.2.png" alt="Exercise 1.2"></p></li>
  <li><p>Suppose we want to save the state of this file in git. First we stage it:</p>

  <p><img src="using-git/Exercise1.3.png" alt="Exercise 1.3"></p></li>
  <li><p>Now that we have staged <code>HELLO.txt</code>, it will be included in our commit.
  Commit the file with a message of your choice.</p>

  <p><img src="using-git/Exercise1.4.png" alt="Exercise 1.4"></p></li>
  <li><p>Let's update our <code>HELLO.txt</code>. Here I used a text editor called vim to add
  some text to the file. You can use any text editor of your choice.</p>

  <p><img src="using-git/Exercise1.5.png" alt="Exercise 1.5"></p></li>
  <li><p>If we want to save the change we made in git, first we'll have to stage it.
  Stage it with the <code>add</code> command. Then, suppose we decide we no longer like the
  change we made, and we don't want to save it in Git. Unstage the file with the
  <code>reset</code> command.</p>

  <p><img src="using-git/Exercise1.6.png" alt="Exercise 1.6"></p></li>
  <li><p>Now suppose we dislike the changes we made so much, we want to return the
  file to its state the last time we committed it -- that is, before we added the
  extra lines. Discard your changes to <code>HELLO.txt</code> since your first commit with
  the <code>checkout</code> command.</p>

  <p><img src="using-git/Exercise1.7.png" alt="Exercise 1.7"></p></li>
  <li><p>Now let's practice using a branch. Create a branch named <code>bye&#x2d;branch</code> and
  switch to it.</p>

  <p><img src="using-git/Exercise1.8.png" alt="Exercise 1.8"></p></li>
  <li><p>Change <code>HELLO.txt</code> by adding "Bye world!" on a new line and commit this
  change. Note that this commit is for the current <code>bye&#x2d;branch</code> only.</p>

  <p><img src="using-git/Exercise1.9.png" alt="Exercise 1.9"></p></li>
  <li><p>Suppose now we decide we like the changes, and we want to merge them into
  our <code>master</code> branch.</p>

  <p><img src="using-git/Exercise1.10.png" alt="Exercise 1.10"></p></li>
  <li><p>Now that we've merge <code>bye&#x2d;branch</code> into <code>master</code>, we can remove it. The
  <code>master</code> branch will still have access to the commits that were once created in
  <code>bye&#x2d;branch</code>.</p>

  <p><img src="using-git/Exercise1.11.png" alt="Exercise 1.11"></p></li>
</ol>


<h2 id="e-other-git-features">E. Other Git Features</h2>


<p>There are tons of other cool Git commands. Unfortunately, we need to continue on
to discuss remote repositories. Thus, this segment will just list some other
interesting features that you are encouraged to explore in your own time:</p>

<ul>
  <li><p><a href="http://git-scm.com/book/en/Git-Tools-Stashing">Stashing</a></p>

  <p>Stashing allows you to save your changes onto a stack without making a more
  permanent commit. It is equivalent to picking up your work-in-progress and
  placing it in a box to get back to later. In the meantime, your desk is now
  clean.</p>

  <p>Why might you want to use this?</p>

  <ul>
    <li>Your files may be in a disorganized state, and you don't want to commit
    yet, but you also don't want to get rid of your changes.</li>
    <li>You modified multiple files, but you dislike your changes and
    you would just like to get things back to how they were after your most
    recent commit. Then you can <code>stash</code> your code and then drop that stash
    rather than having to manually revert multiple files. (Be careful with this
    usage!)</li>
    <li>You modified files but accidentally modified them on the wrong branch.
    Then you can <code>stash</code> your changes, switch branches, and unstash your changes
    so that they are all in the new branch.</li>
  </ul></li>
  <li><p><a href="http://git-scm.com/book/en/Git-Tools-Rewriting-History">Rewriting History</a></p>

  <p>Let's say you want to do more than change your last commit or drop
  changes to your files before your most recent commit. What if you want
  to do something crazy like rewrite history? You can change multiple
  commit messages, splits one commits into two, and reorder commits.</p></li>
  <li><p><a href="http://git-scm.com/book/en/Git-Branching-Rebasing">Rebasing</a></p>

  <p>Rebasing changes the parent commit of a specific commit. In doing this, it
  changes the commits so that it is no longer the same.</p>

  <p><code>Rebase</code> can be used as an alternative to <code>merge</code> for integrating changes
  from one branch to another. It is quite different from <code>merge</code> in that
  <code>merge</code> creates a new commit that has both parent branch commits as parents.
  Rebasing takes one set of commits from a branch and places them all at the
  end of the other branch.</p>

  <p>There are different reasons why you would want to use <code>merge</code> versus <code>rebase</code>.
  One of these reasons is that <code>rebase</code> leads to a cleaner history when
  working with many different branches and team members.</p></li>
  <li><p><a href="http://git-scm.com/docs/git-reset.html">Reset</a></p>

  <p>Perhaps you decide that you want things to be how they were a certain
  number of commits ago. You can use <code>reset</code> if you are absolutely sure that
  you don't want the last few commits. <code>Reset</code> is quite a nuanced command, so
  read carefully before attempting use.</p>

  <ul>
    <li><a href="http://stackoverflow.com/questions/2530060/can-you-explain-what-git-reset-does-in-plain-english">Stack Overflow on git reset</a></li>
    <li><a href="http://git-scm.com/blog/2011/07/11/reset.html">Reset Demystified</a></li>
  </ul></li>
  <li><p><a href="http://git-scm.com/docs/git-revert.html">Revert</a></p>

  <p><code>Revert</code> allows you to reverse the changes introduced by certain commits
  by recording new commits to undo the changes. This is a safer option
  that simply throwing away past commits. But again, use this with caution.</p></li>
  <li><p><a href="http://git-scm.com/docs/git-cherry-pick.html">Cherry Pick</a></p>

  <p><code>Cherry pick</code> allows you to apply the changes introduced by some existing
  commits. For example, if you have two different branches, and your
  current branch lacks one or two commits that would be helpful but are
  only in the other branch, then you can <code>cherry pick</code> to grab those
  commits without merging or rebasing to get all the commits.</p></li>
</ul>

<p>There are far more features and commands not mentioned here. Feel free to
explore more and search for answers. There most likely exists a Git command for
nearly everything you would want to do.</p>


<h2 id="f-remote-repositories">F. Remote Repositories</h2>


<p>Thus far, we have worked with local repositories. We'll now discuss <em>remote
repositories</em>, Git repos that are not on your own computer. They are on other
machines, often servers of sites that host repos like GitHub or <a href="https://bitbucket.org/">Bitbucket</a>.</p>

<p><a href="https://github.com/">GitHub</a> is a website service that can store your Git
repositories. GitHub is not equivalent to Git. Rather, it is a convenient way to
store your code online. It also has many features that make sharing and
developing code collaboratively more simple and efficient.</p>

<p>For the rest of this lab, we'll be using GitHub in our examples. However, the
same principles apply when using Bitbucket or other sites.</p>


<h4 id="private-vs-public-repos">Private vs. Public Repos</h4>


<p>By default, repositories on GitHub are public, rather than private. This means
that anyone on the Internet can view the code in a public repo. <u>For all class
assignments, you are required to use private repositories</u>.</p>

<p>Hosting school code in a public repo is a violation of the academic honesty
policies of this class (and most other Berkeley EECS classes). Please keep this
in mind when using sites like GitHub for collaboration.</p>

<p>You can request an education discount to get free private repos through <a href="https://education.github.com/">GitHub Education</a>.
<a href="https://bitbucket.org/">Bitbucket</a> is also a great alternative to GitHub as it
provides unlimited private code repos.</p>


<h4 id="adding-remotes">Adding Remotes</h4>


<p>Adding a remote repository means that you are telling git where the repo is
located. You do not necessarily have read/write access to every repo you can
add. Actually accessing and modifying files in a remote is discussed later and
relies on having added the remote.</p>

<pre><code>git remote add [short&#x2d;name] [remote&#x2d;url]</code></pre>

<p>The remote URL will look something like <code>https://github.com/berkeley&#x2d;cs61b/skeleton.git</code>
if you are using HTTP or <code>git@github.com:berkeley&#x2d;cs61b/skeleton.git</code> if you are
using SSH.</p>

<p>By convention, the name of the primary remote is called <code>origin</code> (for original
remote repository). So either of the following two commands would allow me to
add the <code>berkeley&#x2d;cs61b/skeleton</code> repository as a remote.</p>

<pre><code>******** DO NOT RUN THIS COMMAND ******** 
git remote add origin https://github.com/berkeley&#x2d;cs61b/skeleton.git
git remote add origin git@github.com:berkeley&#x2d;cs61b/skeleton.git</code></pre>

<p>After adding a remote, all other commands use its associated short name.</p>


<h4 id="renaming-deleting-amp-listing-remotes">Renaming, Deleting, &amp; Listing Remotes</h4>


<ul>
  <li><p>You can rename your remote by using this command:</p>

<pre><code>git remote rename [old&#x2d;name] [new&#x2d;name]</code></pre></li>
  <li><p>You can also remove a remote if you are no longer using it:</p>

<pre><code>git remote rm [remote&#x2d;name]</code></pre></li>
  <li><p>To see what remotes you have, you can list them. The <code>&#x2d;v</code> flag tells you the
  URL of each remote (not just its name).</p>

<pre><code>git remote &#x2d;v</code></pre></li>
</ul>

<p>You can read more about <a href="http://git-scm.com/book/en/Git-Basics-Working-with-Remotes">working with remotes</a>
in the Pro Git book.</p>


<h4 id="cloning-a-remote">Cloning a Remote</h4>


<p>There are often remote repos with code that you would like to copy to your own
computer. In these cases, you can easily download the entire repo with its
commit history by cloning the remote:</p>

<pre><code>git clone [remote&#x2d;url]
git clone [remote&#x2d;url] [directory&#x2d;name]</code></pre>

<p>The top command will create a directory of the same name as the remote repo. The
second command allows you to specify a different name for the copied repository.</p>

<p>When you clone a remote, the cloned remote because associated with your local
repo by the name <code>origin</code>. This is by default because the cloned remote was the
<code>origin</code> for your local repo.</p>


<h4 id="pushing-commits">Pushing Commits</h4>


<p>You may wish to update the contents of a remote repo by adding some commits that
you made locally. You can do this by <code>pushing</code> your commits:</p>

<pre><code>git push [remote&#x2d;name] [remote&#x2d;branch]</code></pre>

<p>Note that you will be pushing to the remote branch from the branch your <code>HEAD</code>
pointer is currently referencing. For example, let's say that I cloned a repo
then made some changes on the <code>master</code> branch. I can give the remote my local
changes with this command:</p>

<pre><code>git push origin master</code></pre>


<h4 id="fetching-amp-pulling-commits">Fetching &amp; Pulling Commits</h4>


<p>There are also times that you'd like to get some new commits from a remote that
are not currently on your local repo. For example, you may have cloned a remote
created by a partner and wish to get his/her newest changes. You can get those
changes by fetching or pulling from the remote.</p>

<ul>
  <li><p><code>fetch</code>: This is analogous to downloading the commits. It does not incorporate
  them into your own code.</p>

<pre><code>git fetch [remote&#x2d;name]</code></pre>

  <p>Why might you use this? Your partner may have created some changes that
  you'd like to review but keep separate from your own code. Fetching the
  changes will only update your local copy of the remote code but not merge
  the changes into your own code.</p>

  <p>For a more particular example, let's say that your partner creates a new
  branch on the remote called <code>fixing&#x2d;ai&#x2d;heuristics</code>. You can view that
  branch's commits with the following steps:</p>

<pre><code>git fetch origin
git branch review&#x2d;ai&#x2d;fix origin/fixing&#x2d;ai&#x2d;heuristics
git checkout review&#x2d;ai&#x2d;fix</code></pre>

  <p>The second command creates a new branch called <code>review&#x2d;ai&#x2d;fix</code> that <em>tracks</em>
  the <code>fixing&#x2d;ai&#x2d;heuristics</code> branch on the <code>origin</code> remote.</p></li>
  <li><p><code>pull</code>: This is equivalent to a <code>fetch + merge</code>. Not only will <code>pull</code> fetch
  the most recent changes, it will also merge the changes into your <code>HEAD</code> branch.</p>

<pre><code>git pull [remote&#x2d;name] [remote&#x2d;branch&#x2d;name]</code></pre>

  <p>Let's say that my boss partner has pushed some commits to the <code>master</code>
  branch of our shared remote that fix our AI heuristics. I happen to know
  that it won't break my code, so I can just pull it and merge it into my own
  code right away.</p>

<pre><code>git pull origin master</code></pre></li>
</ul>


<h2 id="g-example-remote-repository">G. Example: Remote Repository</h2>


<p>For this follow-along example, you will need a partner. You will be working
with your partner on a remote repository and have to deal with things like merge
conflicts. Also note that both of you will need accounts on the same service,
whether it be GitHub or Bitbucket.</p>

<ol>
  <li><p>Partner 1 will create a private repository on GitHub or Bitbucket and
  add Partner 2 as a collaborator. This repo can be called <code>learning&#x2d;git</code>.</p>

  <p>Note: <a href="https://education.github.com/">GitHub Education</a> discount requests take
  some time to process, so it is acceptable to use a public repo for just this
  lab. For all other assignments, you  must use a private repo.</p>

  <p>Also, please do not add your partner to your personal repo in the <a href="https://github.com/Berkeley-CS61B">Berkeley-CS61B</a>
  organization.</p></li>
  <li><p>Partner 2 will create a <code>README</code> file, commit the file, and push this commit
  to the <code>learning&#x2d;git</code> remote.</p>

  <p><img src="using-git/Exercise2.2.png" alt="Exercise 2.2"></p></li>
  <li><p>Partner 2 will also add the remote that Partner 1 created and push this new
  commit.</p>

  <p><img src="using-git/github-remote-url.png" alt="GitHub Remote URL"></p>

  <p>With either GitHub or Bitbucket, you can find the remote URL on the repo's
  main page.</p>

  <p><img src="using-git/Exercise2.3.png" alt="Exercise 2.3"></p></li>
  <li><p>Partner 1 will now clone the remote repo to their own machine then add a line
  to the bottom of README. (Note: At this point, the pictures may get a bit
  confusing because I'm pretending to be both partners.)</p>

  <p><img src="using-git/Exercise2.4.png" alt="Exercise 2.4"></p></li>
  <li><p>Partner 1 will commit this change and push it back to the remote.</p>

  <p><img src="using-git/Exercise2.5.png" alt="Exercise 2.5"></p></li>
  <li><p>Partner 2 will similarly add a line to the bottom of their README and commit
  this change.</p>

  <p><img src="using-git/Exercise2.6.png" alt="Exercise 2.6"></p></li>
  <li><p>Partner 2 will now pull and find that there are merge conflicts.</p>

  <p><img src="using-git/Exercise2.7.png" alt="Exercise 2.7"></p></li>
  <li><p>Partner 2 should resolve the merge conflicts by rearranging the lines. Then
  Partner 2 should add <code>README</code> and commit and push to finish.</p>

  <p><img src="using-git/Exercise2.8.png" alt="Exercise 2.8"></p></li>
  <li><p>Partner 1 can now pull and get two new commits - the added line &amp; the merge
  commit. Now both partners are up to date.</p>

  <p><img src="using-git/Exercise2.9.png" alt="Exercise 2.9"></p></li>
</ol>


<h2 id="h-conclusion">H. Conclusion</h2>



<h4 id="more-with-remotes">More with Remotes</h4>


<p>These simple commands to add/remove remotes, push commits, and fetch/pull
changes can be combined with all the commands you've learned in regards to local
repositories to give you a powerful toolkit in working collaboratively with
others.</p>

<p>GitHub has some other really cool features that can be helpful for in project
development:</p>

<ul>
  <li><a href="https://help.github.com/articles/fork-a-repo">Forking a Repo</a></li>
  <li><a href="https://help.github.com/articles/syncing-a-fork">Syncing a Fork</a></li>
  <li><a href="https://help.github.com/articles/using-pull-requests">Using Pull Requests</a></li>
  <li><a href="https://guides.github.com/features/issues/">Using Issues</a></li>
</ul>


<h4 id="extra-reading">Extra Reading</h4>


<p>For those of you who found this topic interesting, check out these extra
resources! Keep in mind, however, that the best way to learn to use Git
effectively is to just start incorporating it into your own coding workflow!
Good luck, and have an octotastic day!</p>

<ol>
  <li><a href="http://git-scm.com/doc">Git Documentation</a> is really quite good and clear,
  and there is a great Pro Git book by Scott Chacon.</li>
  <li><a href="http://wildlyinaccurate.com/a-hackers-guide-to-git">Hacker's Guide to Git</a>
  is a very friendly introduction to how Git works. It gives a peek at the
  structure of commits &amp; branches and explains how some commands work.</li>
  <li><a href="http://pcottle.github.io/learnGitBranching/">Learn Git Branching</a> is a fun
  and interactive tutorial that visualizes Git commands.</li>
</ol>


<h2 id="i-advanced-git-features">I. Advanced Git Features</h2>


<p>Here are some more advanced features that might make your life a little easier.
Once you get the hang of the basic features of git, you'll start to notice some
common tasks are a bit tedious. Here are some built-in features that you might 
consider using.</p>


<h4 id="rebasing">Rebasing</h4>


<p>Git is all about collaborative programming, so more often than not, you'll find 
yourself dealing with merge-conflicts. In most cases, the changes you've made
are separated from the conflicting commits such that you can just put your commit
right on top of all the new commits. However, git will merge the two versions and
add an extra commit letting you know that you merged. This is pretty annoying and
leads to a pretty messy commit history. This is where the magic of <strong>rebasing</strong> 
comes into play.</p>

<p>When you push changes onto Github and the remote copy has been modified, you'll be
asked to pull in the changes. This is where you usually get a merge-conflict. 
Instead, pull with the rebase flag:</p>

<pre><code>git pull &#x2d;&#x2d;rebase origin master</code></pre>

<p>It's as simple as that! The changes from the server will be applied onto your working 
copy and your commit will be stacked on top.</p>


<h4 id="squashing-commits">Squashing Commits</h4>


<p>You might find yourself in a situation where you've created many small commits with
tiny related changes that could really be stored in a single commit. Here, you'll want 
to squash your commits using the <strong>rebase</strong> command. Suppose you have four commits that I
want to combine. You would enter the following:</p>

<pre><code>git rebase &#x2d;i HEAD~4</code></pre>

<p>From here, you would be prompted to pick a commit to collapse the other commits into, and pick
which commits should be combined:</p>

<pre><code>pick 01d1124 Adding license
pick 6340aaa Moving license into its own file
pick ebfd367 Jekyll has become self&#x2d;aware.
pick 30e0ccb Changed the tagline in the binary, too.

# Rebase 60709da..30e0ccb onto 60709da
#
# Commands:
#  p, pick = use commit
#  e, edit = use commit, but stop for amending
#  s, squash = use commit, but meld into previous commit
#
# If you remove a line here THAT COMMIT WILL BE LOST.
# However, if you remove everything, the rebase will be aborted.
#</code></pre>

<p>It's best to pick the topmost commit and squash the rest into it. You can do this by changing the
text file to this:</p>

<pre><code>pick 01d1124 Adding license
squash 6340aaa Moving license into its own file
squash ebfd367 Jekyll has become self&#x2d;aware.
squash 30e0ccb Changed the tagline in the binary, too.

# Rebase 60709da..30e0ccb onto 60709da
#
# Commands:
#  p, pick = use commit
#  e, edit = use commit, but stop for amending
#  s, squash = use commit, but meld into previous commit
#
# If you remove a line here THAT COMMIT WILL BE LOST.
# However, if you remove everything, the rebase will be aborted.
#</code></pre>

<p>Voila! All those tiny commits have collapsed into a single commit and you have a cleaner log file.</p>
    </main></div>
</body>
</html>
